{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../auth.service\";\nimport * as i4 from \"@ngrx/store\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/toolbar\";\nimport * as i7 from \"@angular/material/icon\";\nimport * as i8 from \"@angular/material/button\";\nimport * as i9 from \"@angular/material/form-field\";\nimport * as i10 from \"@angular/material/input\";\nimport * as i11 from \"@angular/material/card\";\nfunction RegisterComponent_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"button\", 17)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"power_settings_new\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Login \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 18);\n    i0.ɵɵlistener(\"click\", function RegisterComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onLogout());\n    });\n    i0.ɵɵelementStart(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"exit_to_app\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(3, \" Logout \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" The username and password were not recognized \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Please provide a valid email \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Invalid email \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class RegisterComponent {\n  constructor(formBuilder, _route, _router, _authService, store) {\n    this.formBuilder = formBuilder;\n    this._route = _route;\n    this._router = _router;\n    this._authService = _authService;\n    this.store = store;\n    this.title = 'Register';\n    this.loginValid = true;\n    this.username = '';\n    this.password = '';\n    this.isAuth = false;\n    this.returnUrl = this._route.snapshot.queryParams['returnUrl'] || '/';\n  }\n  ngOnInit() {\n    this.registerForm = this.formBuilder.group({\n      email: ['', Validators.required],\n      password: ['', Validators.required]\n    });\n    this.authSubscription = this._authService._authSub$.subscribe(authStatus => {\n      this.isAuth = authStatus;\n    });\n  }\n  onLogout() {\n    this._authService.logout();\n  }\n  ngOnDestroy() {\n    this.authSubscription.unsubscribe();\n  }\n  onSubmit(registerForm) {\n    console.log('submit', this.registerForm.value, this.registerForm.valid);\n    this._authService.registerUser({\n      email: registerForm.value.email,\n      password: registerForm.value.password\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AuthService), i0.ɵɵdirectiveInject(i4.Store));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 33,\n  vars: 10,\n  consts: [[\"color\", \"accent\", \"xmlns\", \"http://www.w3.org/1999/html\"], [\"mat-icon-button\", \"\", \"aria-label\", \"Example icon-button with menu icon\", 1, \"example-icon\"], [1, \"example-spacer\"], [\"mat-fab\", \"\", \"extended\", \"\", \"color\", \"accent\", \"routerLink\", \"/login\", 4, \"ngIf\"], [\"mat-button\", \"\", 3, \"click\", 4, \"ngIf\"], [1, \"container\", 2, \"margin-bottom\", \"30px\"], [3, \"ngSubmit\"], [\"registerForm\", \"ngForm\"], [2, \"color\", \"white\"], [4, \"ngIf\"], [\"matInput\", \"\", \"placeholder\", \"Email\", \"name\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"emailInput\", \"ngModel\", \"email\", \"\"], [\"hintLabel\", \"Should be at least 6 characters long.\", 2, \"color\", \"red\"], [\"matInput\", \"\", \"type\", \"password\", \"placeholder\", \"Password\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModel\", \"ngModelChange\"], [\"pwdHint\", \"ngModel\", \"pwd\", \"\"], [\"align\", \"end\", 2, \"color\", \"red\"], [\"type\", \"submit\", \"mat-raised-button\", \"\", \"color\", \"primary\", 2, \"margin-top\", \"30px\", 3, \"disabled\", \"click\"], [\"mat-fab\", \"\", \"extended\", \"\", \"color\", \"accent\", \"routerLink\", \"/login\"], [\"mat-button\", \"\", 3, \"click\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r12 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"mat-toolbar\", 0)(1, \"button\", 1)(2, \"mat-icon\");\n      i0.ɵɵtext(3, \"supervised_user_circle\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(4, \"span\");\n      i0.ɵɵtext(5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"span\", 2);\n      i0.ɵɵtemplate(7, RegisterComponent_button_7_Template, 4, 0, \"button\", 3);\n      i0.ɵɵtemplate(8, RegisterComponent_button_8_Template, 4, 0, \"button\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 5)(10, \"mat-card\")(11, \"mat-card-content\")(12, \"form\", 6, 7);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_12_listener() {\n        i0.ɵɵrestoreView(_r12);\n        const _r2 = i0.ɵɵreference(13);\n        return i0.ɵɵresetView(ctx.onSubmit(_r2));\n      });\n      i0.ɵɵelementStart(14, \"h2\", 8);\n      i0.ɵɵtext(15, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, RegisterComponent_mat_error_16_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementStart(17, \"mat-form-field\")(18, \"input\", 10, 11);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_18_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, RegisterComponent_mat_error_21_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵtemplate(22, RegisterComponent_mat_error_22_Template, 2, 0, \"mat-error\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"mat-form-field\", 12)(24, \"input\", 13, 14);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_24_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(27, \"mat-hint\", 15);\n      i0.ɵɵtext(28);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"mat-error\");\n      i0.ɵɵtext(30, \" Please provide a valid password \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(31, \"button\", 16);\n      i0.ɵɵlistener(\"click\", function RegisterComponent_Template_button_click_31_listener() {\n        i0.ɵɵrestoreView(_r12);\n        const _r2 = i0.ɵɵreference(13);\n        return i0.ɵɵresetView(ctx.onSubmit(_r2));\n      });\n      i0.ɵɵtext(32, \"Register\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      const _r2 = i0.ɵɵreference(13);\n      const _r4 = i0.ɵɵreference(19);\n      const _r8 = i0.ɵɵreference(25);\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isAuth);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isAuth);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loginValid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", _r4.hasError(\"required\"));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !_r4.hasError(\"required\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate1(\"\", _r8.value == null ? null : _r8.value.length, \" / 6\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !_r2.form.valid);\n    }\n  },\n  dependencies: [i5.NgIf, i2.RouterLink, i6.MatToolbar, i7.MatIcon, i8.MatButton, i8.MatIconButton, i8.MatFabButton, i9.MatFormField, i9.MatHint, i9.MatError, i10.MatInput, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i1.MinLengthValidator, i11.MatCard, i11.MatCardContent, i1.NgModel, i1.NgForm],\n  styles: [\"mat-card[_ngcontent-%COMP%]{max-width:400px;margin:2em auto;text-align:center}mat-form-field[_ngcontent-%COMP%]{display:block}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}\"]\n});","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}